{% extends "auth_layout.html" %} {% load static %} {% block title %} Sign in {% endblock title %} {% block style %}
<style>
    #pas_strenght {
        display: none;
    }
</style>
{% endblock style %} {% block content %}
<!-- section content begin -->
<div class="uk-section uk-padding-remove-vertical">
    <div class="uk-container uk-container-expand">
        <div class="uk-grid" data-uk-height-viewport="expand: true">
            <div class="uk-width-3-5@m uk-background-cover uk-background-center-right uk-visible@m uk-box-shadow-xlarge" style="background-image: url(/static/images/in-signin-image.jpg);">
            </div>
            <div class="uk-width-expand@m uk-flex uk-flex-middle">
                <div class="uk-grid uk-flex-center">
                    <div class="uk-width-2-6@m">
                        <div class="in-padding-horizontal@s">
                            <!-- module logo begin -->
                            <a class="uk-logo" href="/">
                                <img class="in-offset-top-10" src="/static/images/in-lazy.svg" data-src="/static/images/in-logo-1.svg" alt="logo" width="130" height="36" data-uk-img>
                            </a>
                            <!-- module logo begin -->
                            <p class="uk-text-lead uk-margin-top uk-margin-remove-bottom">Setup Account</p>
                            <p class="uk-text-small uk-margin-remove-top uk-margin-medium-bottom">Don't have an account? <a href="{% url 'sign-up' %}">Register here</a></p>
                            <!-- login form begin -->
                            <form class="uk-grid uk-form" method="post" id="regForm">
                                {% csrf_token %}









                                <!--first step-->
                                <div class="form-step">


                                    <div class="uk-margin-small uk-width-1-1 uk-inline">
                                        <label class="uk-form-label" for="form-stacked-text">{{form.first_name.label}}</label>
                                        <div class="uk-form-controls">
                                            {{form.first_name}}
                                            <span class="uk-form-msg uk-text-danger" id="id_first_name_msg"></span>
                                        </div>
                                    </div>

                                    <div class="uk-margin-small uk-width-1-1 uk-inline">
                                        <label class="uk-form-label" for="form-stacked-text">{{form.last_name.label}}</label>
                                        <div class="uk-form-controls">
                                            {{form.last_name}}
                                            <span class="uk-form-msg uk-text-danger" id="id_last_name_msg"></span>
                                        </div>
                                    </div>


                                    <div class="uk-margin-small uk-width-1-1 uk-inline">
                                        <label class="uk-form-label" for="form-stacked-text">{{form.password1.label}}</label>
                                        <div class="uk-form-controls">
                                            {{form.password1}}
                                            <span class="uk-form-msg uk-text-danger" id="id_password1_msg"></span>
                                            <p style="margin: 0;" class="uk-text-danger" id="pas_strenght">Must contain at least <span id="number">one number and</span> <span id="capital">one uppercase and</span> <span id="letter">lowercase letter, and</span> <span id="length"> at least 6 or more characters with at least one special characters</span>                                                </p>
                                        </div>
                                    </div>


                                    <div class="uk-margin-small uk-width-1-1 uk-inline">
                                        <label class="uk-form-label" for="form-stacked-text">{{form.password2.label}}</label>
                                        <div class="uk-form-controls">
                                            {{form.password2}}
                                            <span class="uk-form-msg uk-text-danger" id="id_password2_msg"></span>
                                        </div>
                                    </div>





                                </div>
                                <!--first step-->



                                <!--Second step-->
                                <div class="form-step">


                                    <div class="uk-margin-small uk-width-1-1 uk-inline">
                                        <label class="uk-form-label" for="form-stacked-text">{{form.date_of_birth.label}}</label>
                                        <div class="uk-form-controls">
                                            {{form.date_of_birth}}
                                            <span class="uk-form-msg uk-text-danger" id="id_date_of_birth_msg"></span>
                                        </div>
                                    </div>

                                    <div class="uk-margin-small uk-width-1-1 uk-inline">
                                        <label class="uk-form-label" for="form-stacked-text">{{form.title.label}}</label>
                                        <div class="uk-form-controls">
                                            {{form.title}}
                                            <span class="uk-form-msg uk-text-danger" id="id_title_msg"></span>
                                        </div>
                                    </div>


                                    <div class="uk-margin-small uk-width-1-1 uk-inline">
                                        <label class="uk-form-label" for="form-stacked-text">{{form.citizenship.label}}</label>
                                        <div class="uk-form-controls">
                                            {{form.citizenship}}
                                            <span class="uk-form-msg uk-text-danger" id="id_citizenship_msg"></span>
                                        </div>
                                    </div>


                                    <div class="uk-margin-small uk-width-1-1 uk-inline">
                                        <label class="uk-form-label" for="form-stacked-text">{{form.country_of_residence.label}}</label>
                                        <div class="uk-form-controls">
                                            {{form.country_of_residence}}
                                            <span class="uk-form-msg uk-text-danger" id="id_country_of_residence_msg"></span>
                                        </div>
                                    </div>




                                </div>
                                <!--Second step-->


                                <!--third step-->
                                <div class="form-step">


                                    <div class="uk-margin-small uk-width-1-1 uk-inline">
                                        <label class="uk-form-label" for="form-stacked-text">{{form.first_address.label}}</label>
                                        <div class="uk-form-controls">
                                            {{form.first_address}}
                                            <span class="uk-form-msg uk-text-danger" id="id_first_address_msg"></span>
                                        </div>
                                    </div>

                                    <div class="uk-margin-small uk-width-1-1 uk-inline">
                                        <label class="uk-form-label" for="form-stacked-text">{{form.state.label}}</label>
                                        <div class="uk-form-controls">
                                            {{form.state}}
                                            <span class="uk-form-msg uk-text-danger" id="id_state_msg"></span>
                                        </div>
                                    </div>


                                    <div class="uk-margin-small uk-width-1-1 uk-inline">
                                        <label class="uk-form-label" for="form-stacked-text">{{form.city.label}}</label>
                                        <div class="uk-form-controls">
                                            {{form.city}}
                                            <span class="uk-form-msg uk-text-danger" id="id_city_msg"></span>
                                        </div>
                                    </div>


                                    <div class="uk-margin-small uk-width-1-1 uk-inline">
                                        <label class="uk-form-label" for="form-stacked-text">{{form.zipcode.label}}</label>
                                        <div class="uk-form-controls">
                                            {{form.zipcode}}
                                            <span class="uk-form-msg uk-text-danger" id="id_zipcode_msg"></span>
                                        </div>
                                    </div>




                                </div>
                                <!--third step-->



                                <!--fourth step-->
                                <div class="form-step">


                                    <div class="uk-margin-small uk-width-1-1 uk-inline">
                                        <label class="uk-form-label" for="form-stacked-text">{{form.phone.label}}</label>
                                        <div class="uk-form-controls">
                                            {{form.phone}}
                                            <span class="uk-form-msg uk-text-danger" id="id_phone_msg"></span>
                                        </div>
                                    </div>

                                    <div class="uk-margin-small uk-width-1-1 uk-inline">
                                        <label class="uk-form-label" for="form-stacked-text">{{form.account_opening_reason.label}}</label>
                                        <div class="uk-form-controls">
                                            {{form.account_opening_reason}}
                                            <span class="uk-form-msg uk-text-danger" id="id_account_opening_reason_msg"></span>
                                        </div>
                                    </div>

                                    <div class="uk-margin-small uk-width-1-1 uk-inline">

                                        <div class="uk-form-controls">
                                            {{form.email}}
                                            <span class="uk-form-msg uk-text-danger" id="id_email_msg"></span>
                                        </div>
                                    </div>






                                </div>
                                <!--fourth step-->





                            </form>
                            <!-- login form end -->
                            <!-- Circles which indicates the steps of the form: -->
                            <div style="text-align:center;margin-top:50px;">
                                <span class="step"></span>
                                <span class="step"></span>
                                <span class="step"></span>
                                <span class="step"></span>
                            </div>



                            <div id="stepbtn">
                                <button id="prevBtn" type="button" onclick="nextPrev(-1)" class="uk-button uk-button-small uk-border-rounded uk-button-secondary "><i class="fas fa-chevron-circle-left  uk-margin-small-right"></i>Previous</a>
                                <button id="nextBtn" type="button" onclick="nextPrev(1)" class="uk-button uk-button-small uk-border-rounded  uk-button-primary " > <span id="ntext">Next</span>  &nbsp;<i class="fas fa-chevron-circle-right uk-margin-small-right"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- section content end -->


{% endblock content %}

{% block script %}

<script>
  $(document).ready(function() {
      $('select').select2();
      $('#id_date_of_birth').datepicker();

  });




  var currentTab = 0; // Current tab is set to be the first tab (0)
    showTab(currentTab); // Display the current tab
    
    function showTab(n) {
      // This function will display the specified tab of the form...
      var x = document.getElementsByClassName("form-step");
      x[n].style.display = "block";
      //... and fix the Previous/Next buttons:
      if (n == 0) {
        document.getElementById("prevBtn").style.display = "none";
      } else {
        document.getElementById("prevBtn").style.display = "inline";
      }
      if (n == (x.length - 1)) {
        document.getElementById("ntext").innerHTML = "Submit";
      } else {
        document.getElementById("ntext").innerHTML = "Next";
      }
      //... and run a function that will display the correct step indicator:
      fixStepIndicator(n)
    }
    
    function nextPrev(n) {
      // This function will figure out which tab to display
      var x = document.getElementsByClassName("form-step");
      // Exit the function if any field in the current tab is invalid:
      if (n == 1 && !validateForm()) return false;
      // Hide the current tab:
      x[currentTab].style.display = "none";
      // Increase or decrease the current tab by 1:
      currentTab = currentTab + n;
      // if you have reached the end of the form...
      if (currentTab >= x.length) {
        // ... the form gets submitted:
        document.getElementById("regForm").submit();
        return false;
      }
      // Otherwise, display the correct tab:
      showTab(currentTab);
    }
    
    function validateForm() {
      // This function deals with validation of the form fields
      var x, y, i, valid = true;
      x = document.getElementsByClassName("form-step");
      y = x[currentTab].getElementsByTagName("input");
      // A loop that checks every input field in the current tab:
      for (i = 0; i < y.length; i++) {
        // If a field is empty...
        msg = document.getElementById(`${y[i].getAttribute('id')}_msg`)
          //console.log(msg)
          msg.innerHTML = ""
        if (y[i].value == "") {
          // add an "invalid" class to the field:
          
          y[i].className += " invalid";
          // and set the current valid status to false
          
          
          msg.innerHTML = "* This field is required"
          

          valid = false;
        }
      }
      // If the valid status is true, mark the step as finished and valid:
      if (valid) {
        document.getElementsByClassName("step")[currentTab].className += " finish";
      }
      return valid; // return the valid status
    }
    
    function fixStepIndicator(n) {
      // This function removes the "active" class of all steps...
      var i, x = document.getElementsByClassName("step");
      for (i = 0; i < x.length; i++) {
        x[i].className = x[i].className.replace(" active", "");
      }
      //... and adds the "active" class on the current step:
      x[n].className += " active";
    }




    var password1 = document.getElementById('id_password1')
    var password2 = document.getElementById('id_password2')
    var password1_msg = document.getElementById('id_password1_msg')
    var password_msg = document.getElementById('id_password2_msg')





    var pas_strenght_msg = document.getElementById("pas_strenght");




    password1.onfocus = function() {

        pas_strenght_msg.style.display = "block";

    }

    password1.onblur = function() {

        pas_strenght_msg.style.display = "none";

    }




    
    
    password1.addEventListener('keyup',function () {
         

        
        
    var passw =   /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{6,15}$/;

    if(password1.value.match(passw)) {
        pas_strenght_msg.style.display = "none"
        return true;
    }else{
        pas_strenght_msg.style.display = "block"
        return false;
    }





      if (document.getElementById('id_password1').value == document.getElementById('id_password2').value) {
          password_msg.innerHTML = " "
          document.getElementById('nextBtn').removeAttribute('disabled')
      } else {
        password_msg.innerHTML = "Password Don't Match"
        document.getElementById('nextBtn').setAttribute('disabled','disabled')
      }
    })

    password2.addEventListener('keyup',function () {
      if (document.getElementById('id_password1').value == document.getElementById('id_password2').value) {
          password_msg.innerHTML = " "
          document.getElementById('nextBtn').removeAttribute('disabled')
      } else {
        password_msg.innerHTML = "Password Don't Match"
        document.getElementById('nextBtn').setAttribute('disabled','disabled')
      }
    })






    </script>


{% endblock script %}